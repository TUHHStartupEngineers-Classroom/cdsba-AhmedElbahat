{
  "hash": "fa18a9999430dff27d4ca2de1b1847a6",
  "result": {
    "markdown": "---\ntitle: \"Directed Acyclic Graphs\"\n---\n\n::: {.cell hash='05_dag_cache/html/unnamed-chunk-1_893802102d9b0f63e3eec83237a2d5a3'}\n\n```{.r .cell-code}\nlibrary(\"dagitty\")\nlibrary(\"ggdag\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> \n#> Attache Paket: 'ggdag'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Das folgende Objekt ist maskiert 'package:stats':\n#> \n#>     filter\n```\n:::\n\n```{.r .cell-code}\n# Collider\ncollider <- dagify(\n  P ~ S_AB,\n  P ~ S_CD,\n  coords = list(x = c(S_CD = 3, P = 2, S_AB =1),               y = c(S_CD = 1, P = 0,S_AB = 1)))\n\n# Plot DAG\nggdag(collider) \n```\n\n::: {.cell-output-display}\n![](05_dag_files/figure-html/unnamed-chunk-1-1.png){width=672}\n:::\n:::\n\n::: {.cell hash='05_dag_cache/html/unnamed-chunk-2_dbb5a1599599280f83dadab80654a6ae'}\n\n```{.r .cell-code}\n customers <- readRDS(\"C:/Users/ahmed/OneDrive/Dokumente/Causal_Data_Science_Data/customer_sat.rds\")\n\nlm_customer <- lm(satisfaction ~ follow_ups , data= customers)\nsummary(lm_customer)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> \n#> Call:\n#> lm(formula = satisfaction ~ follow_ups, data = customers)\n#> \n#> Residuals:\n#>     Min      1Q  Median      3Q     Max \n#> -12.412  -5.257   1.733   4.506  12.588 \n#> \n#> Coefficients:\n#>             Estimate Std. Error t value Pr(>|t|)    \n#> (Intercept)  78.8860     4.2717  18.467 1.04e-10 ***\n#> follow_ups   -3.3093     0.6618  -5.001 0.000243 ***\n#> ---\n#> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n#> \n#> Residual standard error: 7.923 on 13 degrees of freedom\n#> Multiple R-squared:  0.658,\tAdjusted R-squared:  0.6316 \n#> F-statistic: 25.01 on 1 and 13 DF,  p-value: 0.0002427\n```\n:::\n:::\n\n::: {.cell hash='05_dag_cache/html/unnamed-chunk-3_074dfd7828a832642b25d8eaf13c0b96'}\n\n```{.r .cell-code}\nlm_customer_subscription <- lm(satisfaction ~ follow_ups + subscription , data= customers)\nsummary(lm_customer_subscription)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> \n#> Call:\n#> lm(formula = satisfaction ~ follow_ups + subscription, data = customers)\n#> \n#> Residuals:\n#>     Min      1Q  Median      3Q     Max \n#> -4.3222 -2.1972  0.3167  2.2667  3.9944 \n#> \n#> Coefficients:\n#>                      Estimate Std. Error t value Pr(>|t|)    \n#> (Intercept)           26.7667     6.6804   4.007  0.00206 ** \n#> follow_ups             2.1944     0.7795   2.815  0.01682 *  \n#> subscriptionPremium   44.7222     5.6213   7.956 6.88e-06 ***\n#> subscriptionPremium+  18.0722     2.1659   8.344 4.37e-06 ***\n#> ---\n#> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n#> \n#> Residual standard error: 2.958 on 11 degrees of freedom\n#> Multiple R-squared:  0.9597,\tAdjusted R-squared:  0.9487 \n#> F-statistic: 87.21 on 3 and 11 DF,  p-value: 5.956e-08\n```\n:::\n:::\n\n::: {.cell hash='05_dag_cache/html/unnamed-chunk-4_1f00cafb81faf71d88c5f34293dd7cb7'}\n\n```{.r .cell-code}\ncat(\"The realtion between satisfaction with the follow_ups for the accounts that have a subscription is more realted as the adjusted R in there is 0.9 and the Pvalue with the follow up with account to subscription is lower and the estimate has changed from -3.3093 to 2.1944  in the follow up.\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> The realtion between satisfaction with the follow_ups for the accounts that have a subscription is more realted as the adjusted R in there is 0.9 and the Pvalue with the follow up with account to subscription is lower and the estimate has changed from -3.3093 to 2.1944  in the follow up.\n```\n:::\n:::\n\n::: {.cell hash='05_dag_cache/html/unnamed-chunk-5_9f944b3836fea478c3c71a4be2295cb4'}\n\n```{.r .cell-code}\nlibrary(ggplot2)\n\n# Not conditioning on student\nberk_not_cond <- ggplot(customers, aes(x = follow_ups, y = satisfaction)) +\n  geom_point() +\n  stat_smooth(method = \"lm\", se = F)\n\n# Conditioning on student  \nberk_cond <- ggplot(customers, aes(x = follow_ups, y =satisfaction,color = subscription, alpha = subscription))+\n   geom_point() +\n   stat_smooth(method = \"lm\", se = F)+\n  \n  \n   scale_alpha_manual(values = c(\"Subscription\" = 1, \"no_Subscription\" = 0.2)) +theme(legend.position =      \"right\")\n\n# Plot both\nberk_not_cond\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> `geom_smooth()` using formula = 'y ~ x'\n```\n:::\n\n::: {.cell-output-display}\n![](05_dag_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n\n```{.r .cell-code}\nberk_cond\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> `geom_smooth()` using formula = 'y ~ x'\n```\n:::\n\n::: {.cell-output-display}\n![](05_dag_files/figure-html/unnamed-chunk-5-2.png){width=672}\n:::\n:::",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\r\n<script src=\"../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}